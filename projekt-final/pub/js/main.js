var edu_box1=document.getElementById("edu_box1"),web_box1=document.getElementById("web_box1"),work_box1=document.getElementById("work_box1");function read_edu_data(){var e=new XMLHttpRequest;e.open("GET","https://studenter.miun.se/~emha1904/DT173-webbutveckling-III/cv_api/api/read_edu.php",!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(this.responseText),t="<table><thead><tr><th>Program</th><th>University</th><th>Degree</th><th>Start Date</th><th>End Date</th></th><th>Description</th></tr></thead><tbody>";for(var n in e)t+="<tr><td>"+e[n].program+"</td><td>"+e[n].university+"</td><td>"+e[n].degree+"</td><td>"+e[n].year+"</td><td>"+e[n].end_date+"</td><td>"+e[n].description+"</td></tr>";t+="</tbody></table>",edu_box1.innerHTML=t}},e.send()}function read_web_data(){var e=new XMLHttpRequest;e.open("GET","https://studenter.miun.se/~emha1904/DT173-webbutveckling-III/cv_api/api/read_web.php",!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(this.responseText),t="<table><thead><tr><th>Website</th><th>URL</th><th>Description</th></tr></thead><tbody>";for(var n in e)t+="<tr><td>"+e[n].website+"</td><td>"+e[n].url+"</td><td>"+e[n].description+"</td></tr>";t+="</tbody></table>",web_box1.innerHTML=t}},e.send()}function read_work_data(){var e=new XMLHttpRequest;e.open("GET","https://studenter.miun.se/~emha1904/DT173-webbutveckling-III/cv_api/api/read_work.php",!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(this.responseText),t="<table><thead><tr><th>Title</th><th>Company</th><th>Start Date</th><th>End Date</th></tr></thead><tbody>";for(var n in e)t+="<tr><td>"+e[n].title+"</td><td>"+e[n].company+"</td><td>"+e[n].start_date+"</td><td>"+e[n].end_date+"</td></tr>";t+="</tbody></table>",work_box1.innerHTML=t}},e.send()}read_edu_data(),read_web_data(),read_work_data();var uname=document.getElementById("uname"),pword=document.getElementById("pword"),login_msg=document.getElementById("login_msg"),login_btn=document.getElementById("login_btn");login_btn.onclick=function(e){var t=pword.value,n=uname.value;if(n&&t){var d=new XMLHttpRequest;d.open("POST","https://studenter.miun.se/~emha1904/DT173-webbutveckling-III/cv_api/api/login.php",!0),d.setRequestHeader("Content-type","application/x-www-form-urlencoded"),d.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(this.responseText),t=e.message,n=e.token;n?(login_token.value=n,login_msg.innerHTML="Login Successful",window.location.href="records.html?"+n):login_msg.innerHTML=t}};var a={uname:n,pword:t};d.send(JSON.stringify(a))}else login_msg.innerHTML="Please enter login details"};var login_tokenx=document.getElementById("login_tokenx"),edit_edu_box=document.getElementById("edit_edu_box"),edit_web_box=document.getElementById("edit_web_box"),edit_work_box=document.getElementById("edit_work_box"),edu_delete_msg=document.getElementById("edu_delete_msg"),edu_create_msg=document.getElementById("edu_create_msg"),edu_update_msg=document.getElementById("edu_update_msg"),web_delete_msg=document.getElementById("web_delete_msg"),web_create_msg=document.getElementById("web_create_msg"),web_update_msg=document.getElementById("web_update_msg"),work_delete_msg=document.getElementById("work_delete_msg"),work_create_msg=document.getElementById("workx_create_msg"),work_update_msg=document.getElementById("work_update_msg"),edu_add_btn=document.getElementById("edu_add_btn"),edu_update_btn=document.getElementById("edu_update_btn"),web_add_btn=document.getElementById("web_add_btn"),web_update_btn=document.getElementById("web_update_btn"),work_add_btn=document.getElementById("work_add_btn"),work_update_btn=document.getElementById("work_update_btn"),login_tkx=location.search.substring(1);function read_education_data(){var e=new XMLHttpRequest;e.open("GET","https://studenter.miun.se/~emha1904/DT173-webbutveckling-III/cv_api/api/read_edu.php",!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(this.responseText),t=e.message;if(t)return edu_delete_msg.innerHTML=t,!1;var n="<table ><thead><tr><th>Program</th><th>University</th><th>Degree</th><th>Year</th><th>End Date</th></th><th>Description</th><th>User Action(UA)</th></tr></thead><tbody>";for(var d in e){var a=e[d].id,i='<input type="button" onclick="preview_edu_record(this)" name='+a+' class="view_edu_record" value="Update">';i+='<input type="button" onclick="delete_edu_record(this)" name='+a+' class="del_edu_record" value="Delete">',n+="<tr><td>"+e[d].program+"</td><td>"+e[d].university+"</td><td>"+e[d].degree+"</td><td>"+e[d].year+"</td><td>"+e[d].end_date+"</td><td>"+e[d].description+"</td><td>"+i+"</td></tr>"}n+="</tbody></table>",document.getElementById("edu_view_box").innerHTML=n}},e.send()}function preview_edu_record(e){var t=e.name;if(t){var n="https://studenter.miun.se/~emha1904/DT173-webbutveckling-III/cv_api/api/read_single_edu.php?id="+t,d=new XMLHttpRequest;d.open("GET",n,!0),d.setRequestHeader("Content-type","application/x-www-form-urlencoded"),d.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(this.responseText),t=e.message;if(t)edu_delete_msg.innerHTML=t,edit_edu_box.style.visibility="hidden";else{var n=e.id,d=e.program,a=e.university,i=e.degree,r=e.year,s=e.end_date,o=e.description;edu_update_msg.innerHTML="",edit_edu_box.style.visibility="visible",document.getElementById("edu_id").value=n,document.getElementById("edu_prog").value=d,document.getElementById("edu_uni").value=a,document.getElementById("edu_deg").value=i,document.getElementById("edu_year").value=r,document.getElementById("edu_end_date").value=s,document.getElementById("edu_desc").value=o}}},d.send()}}function delete_edu_record(e){var t=e.name,n=document.getElementById("login_tokenx").value;if(t){var d="https://studenter.miun.se/~emha1904/DT173-webbutveckling-III/cv_api/api/delete_edu.php?id="+t+"&token="+n,a=new XMLHttpRequest;a.open("GET",d,!0),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(this.responseText).message;read_education_data(),edu_delete_msg.innerHTML=e,edit_edu_box.style.visibility="hidden"}},a.send()}}function read_website_data(){var e=new XMLHttpRequest;e.open("GET","https://studenter.miun.se/~emha1904/DT173-webbutveckling-III/cv_api/api/read_web.php",!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(this.responseText),t=e.message;if(t)return web_delete_msg.innerHTML=t,!1;var n="<table ><thead><tr><th>Website</th><th>URL</th><th>Description</th><th>User Action(UA)</th></tr></thead><tbody>";for(var d in e){var a=e[d].id,i='<input type="button" onclick="preview_web_record(this)" name='+a+' class="view_web_record" value="Update">';i+='<input type="button" onclick="delete_web_record(this)" name='+a+' class="del_web_record" value="Delete">',n+="<tr><td>"+e[d].website+"</td><td>"+e[d].url+"</td><td>"+e[d].description+"</td><td>"+i+"</td></tr>"}n+="</tbody></table>",document.getElementById("web_view_box").innerHTML=n}},e.send()}function preview_web_record(e){var t=e.name;if(t){var n="https://studenter.miun.se/~emha1904/DT173-webbutveckling-III/cv_api/api/read_single_web.php?id="+t,d=new XMLHttpRequest;d.open("GET",n,!0),d.setRequestHeader("Content-type","application/x-www-form-urlencoded"),d.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(this.responseText),t=e.message;if(t)web_delete_msg.innerHTML=t,edit_web_box.style.visibility="hidden";else{var n=e.id,d=e.website,a=e.url,i=e.description;web_update_msg.innerHTML="",edit_web_box.style.visibility="visible",document.getElementById("web_id").value=n,document.getElementById("web_website").value=d,document.getElementById("web_url").value=a,document.getElementById("web_desc").value=i}}},d.send()}}function delete_web_record(e){var t=e.name,n=document.getElementById("login_tokenx").value;if(t){var d="https://studenter.miun.se/~emha1904/DT173-webbutveckling-III/cv_api/api/delete_web.php?id="+t+"&token="+n,a=new XMLHttpRequest;a.open("GET",d,!0),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(this.responseText).message;read_website_data(),web_delete_msg.innerHTML=e,edit_web_box.style.visibility="hidden"}},a.send()}}function read_work_life_data(){var e=new XMLHttpRequest;e.open("GET","https://studenter.miun.se/~emha1904/DT173-webbutveckling-III/cv_api/api/read_work.php",!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(this.responseText),t=e.message;if(t)return work_delete_msg.innerHTML=t,!1;var n="<table ><thead><tr><th>Title</th><th>Company</th><th>Start Date</th><th>End Date</th><th>User Action(UA)</th></tr></thead><tbody>";for(var d in e){var a=e[d].id,i='<input type="button" onclick="preview_work_record(this)" name='+a+' class="view_work_record" value="Update">';i+='<input type="button" onclick="delete_work_record(this)" name='+a+' class="del_work_record" value="Delete">',n+="<tr><td>"+e[d].title+"</td><td>"+e[d].company+"</td><td>"+e[d].start_date+"</td><td>"+e[d].end_date+"</td><td>"+i+"</td></tr>"}n+="</tbody></table>",document.getElementById("work_view_box").innerHTML=n}},e.send()}function preview_work_record(e){var t=e.name;if(t){var n="https://studenter.miun.se/~emha1904/DT173-webbutveckling-III/cv_api/api/read_single_work.php?id="+t,d=new XMLHttpRequest;d.open("GET",n,!0),d.setRequestHeader("Content-type","application/x-www-form-urlencoded"),d.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(this.responseText),t=e.message;if(t)work_delete_msg.innerHTML=t,edit_work_box.style.visibility="hidden";else{var n=e.id,d=e.title,a=e.company,i=e.start_date,r=e.end_date;work_update_msg.innerHTML="",edit_work_box.style.visibility="visible",document.getElementById("work_id").value=n,document.getElementById("work_title").value=d,document.getElementById("work_company").value=a,document.getElementById("work_start_date").value=i,document.getElementById("work_end_date").value=r}}},d.send()}}function delete_work_record(e){var t=e.name,n=document.getElementById("login_tokenx").value;if(t){var d="https://studenter.miun.se/~emha1904/DT173-webbutveckling-III/cv_api/api/delete_work.php?id="+t+"&token="+n,a=new XMLHttpRequest;a.open("GET",d,!0),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(this.responseText).message;read_work_life_data(),work_delete_msg.innerHTML=e,edit_work_box.style.visibility="hidden"}},a.send()}}function myFunction(){var e=document.getElementById("myLinks");"block"===e.style.display?e.style.display="none":e.style.display="block"}login_tokenx.value=login_tkx,alert(login_tkx),read_education_data(),read_website_data(),read_work_life_data(),edit_edu_box.style.visibility="hidden",edit_web_box.style.visibility="hidden",edit_work_box.style.visibility="hidden",edu_add_btn.onclick=function(){var e=document.getElementById("login_tokenx").value,t=document.getElementById("edu_progx").value,n=document.getElementById("edu_unix").value,d=document.getElementById("edu_degx").value,a=document.getElementById("edu_yearx").value,i=document.getElementById("edu_end_datex").value,r=document.getElementById("edu_descx").value;if(e&&t&&n&&d&&a&&i&&r){var s=new XMLHttpRequest;s.open("POST","https://studenter.miun.se/~emha1904/DT173-webbutveckling-III/cv_api/api/create_edu.php",!0),s.setRequestHeader("Content-type","application/x-www-form-urlencoded"),s.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(this.responseText).message;read_education_data(),edu_create_msg.innerHTML=e,edit_edu_box.style.visibility="hidden"}};var o={token:e,program:t,university:n,degree:d,year:a,end_date:i,description:r};s.send(JSON.stringify(o))}else edu_create_msg.innerHTML="Please enter all fields"},edu_update_btn.onclick=function(){var e=document.getElementById("login_tokenx").value,t=document.getElementById("edu_id").value,n=document.getElementById("edu_prog").value,d=document.getElementById("edu_uni").value,a=document.getElementById("edu_deg").value,i=document.getElementById("edu_year").value,r=document.getElementById("edu_end_date").value,s=document.getElementById("edu_desc").value;if(e&&t&&n&&d&&a&&i&&r&&s){var o=new XMLHttpRequest;o.open("POST","https://studenter.miun.se/~emha1904/DT173-webbutveckling-III/cv_api/api/update_edu.php",!0),o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(this.responseText).message;read_education_data(),edu_update_msg.innerHTML=e}};var u={token:e,program:n,university:d,degree:a,year:i,end_date:r,description:s,id:t};o.send(JSON.stringify(u))}else edu_update_msg.innerHTML="Please enter all fields"},web_add_btn.onclick=function(){var e=document.getElementById("login_tokenx").value,t=document.getElementById("web_websitex").value,n=document.getElementById("web_urlx").value,d=document.getElementById("web_descx").value;if(e&&t&&n&&d){var a=new XMLHttpRequest;a.open("POST","https://studenter.miun.se/~emha1904/DT173-webbutveckling-III/cv_api/api/create_web.php",!0),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(this.responseText).message;read_website_data(),web_create_msg.innerHTML=e,edit_web_box.style.visibility="hidden"}};var i={token:e,website:t,url:n,description:d};a.send(JSON.stringify(i))}else web_create_msg.innerHTML="Please enter all fields"},web_update_btn.onclick=function(){var e=document.getElementById("login_tokenx").value,t=document.getElementById("web_id").value,n=document.getElementById("web_website").value,d=document.getElementById("web_url").value,a=document.getElementById("web_desc").value;if(e&&t&&n&&d&&a){var i=new XMLHttpRequest;i.open("POST","https://studenter.miun.se/~emha1904/DT173-webbutveckling-III/cv_api/api/update_web.php",!0),i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(this.responseText).message;read_website_data(),web_update_msg.innerHTML=e}};var r={token:e,website:n,url:d,description:a,id:t};i.send(JSON.stringify(r))}else web_update_msg.innerHTML="Please enter all fields"},work_add_btn.onclick=function(){var e=document.getElementById("login_tokenx").value,t=document.getElementById("work_titlex").value,n=document.getElementById("work_companyx").value,d=document.getElementById("work_start_datex").value,a=document.getElementById("work_end_datex").value;if(e&&t&&n&&d&&a){var i=new XMLHttpRequest;i.open("POST","https://studenter.miun.se/~emha1904/DT173-webbutveckling-III/cv_api/api/create_work.php",!0),i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(this.responseText).message;read_work_life_data(),work_create_msg.innerHTML=e,edit_work_box.style.visibility="hidden"}};var r={token:e,title:t,company:n,start_date:d,end_date:a};i.send(JSON.stringify(r))}else work_create_msg.innerHTML="Please enter all fields"},work_update_btn.onclick=function(){var e=document.getElementById("login_tokenx").value,t=document.getElementById("work_id").value,n=document.getElementById("work_title").value,d=document.getElementById("work_company").value,a=document.getElementById("work_start_date").value,i=document.getElementById("work_end_date").value;if(e&&t&&n&&d&&a&&i){var r=new XMLHttpRequest;r.open("POST","https://studenter.miun.se/~emha1904/DT173-webbutveckling-III/cv_api/api/update_work.php",!0),r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(this.responseText).message;read_work_life_data(),work_update_msg.innerHTML=e}};var s={token:e,title:n,company:d,start_date:a,end_date:i,id:t};r.send(JSON.stringify(s))}else work_update_msg.innerHTML="Please enter all fields"};
//# sourceMappingURL=main.js.map
=main.js.map
